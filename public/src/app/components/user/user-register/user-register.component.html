<div class="container">
  <div class="row">
    <ul class="breadcrumb">
      <li routerLinkActive="active">
        <a [routerLink]="['/home']">
          <i class="fa fa-home"> Home </i>
        </a>
      </li>
      <li>Register</li>
    </ul>
  </div>
  <div class="container-center col-md-4">
    <h2>Registrar nuevo usuario</h2>

    <form [formGroup]="rForm" (ngSubmit)="registerUser(newUser)">
      <div class="row columns">

        <label class="required">Nombre</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['first_name'].valid && rForm.controls['first_name'].touched">{{advert3}}</div>
        <input placeholder="Nombre" class="form-control" type="text" [(ngModel)]="newUser.first_name" formControlName="first_name">

        <label class="required">Apellidos</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['last_name'].valid && rForm.controls['last_name'].touched">{{advert3}}</div>
        <input placeholder="Apellidos" class="form-control" type="text" [(ngModel)]="newUser.last_name" formControlName="last_name">

        <label class="required">Email</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['email'].valid && rForm.controls['email'].touched">{{advert1}}</div>
        <input placeholder="Email" class="form-control" type="email" [(ngModel)]="newUser.email" formControlName="email">

        <label for="rol" class="required">Roles</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['rol'].valid && rForm.controls['rol'].touched">{{advert3}}</div>
        <select class="form-control minimal" formControlName="rol" polaceholder="selecciona un rol">
          <option *ngFor="let rol of roles" [ngValue]="rol" [selected]="">
            {{ rol.nombre }}
          </option>
        </select>

        <label class="required">Contraseña</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['password'].valid && rForm.controls['password'].touched">{{advert2}}</div>
        <input placeholder="Contraseña" class="form-control" type="password" [(ngModel)]="newUser.password" formControlName="password">

        <label class="required">Confirmar contraseña</label>
        <div class="alert alert-danger" *ngIf="!rForm.controls['confirm-password'].valid && rForm.controls['confirm-password'].touched">Nueva contraseña y su confirmación no coinciden</div>
        <input placeholder="Contraseña" class="form-control" type="password" formControlName="confirm-password">
        
      </div>
      <div class="row">
        <div class="col-md-6">
          <button type="button" class="button expanded submit" [disabled]="!rForm.valid" (click)="registerUser(newUser)">
            <i class="fa fa-check"></i> Registrar
          </button>
        </div>
        <div class="col-md-6">
          <button type="button" class="button expanded cancel" (click)=goback();>
            <i class="fa fa-times"></i> Cancelar
          </button>
        </div>
      </div>

      <!-- <input type="submit" class="button expanded" value="Registrar" [disabled]="!rForm.valid">           -->
    </form>
    <div class="alert alert-danger" *ngIf="message">{{message}}</div>
  </div>
</div>